<link rel="stylesheet" type="text/css" href="/yui/assets/accordion.css" media="screen" />
<script type="text/javascript" src="/yui/build/yahoo-dom-event/yahoo-dom-event.js"></script>

<h1>Plugins</h1>

<form method="post" name="plugins">
  <dl class="accordion">
    #for $plugin in $sorted_plugins
    <dt>
      <input class="check" type="checkbox" 
        #if len([$p for $p in $plugins.get($plugin).get('plugins') if not $p.enabled])==0
             checked="checked"
        #elif len([$p for $p in $plugins.get($plugin).get('plugins') if $p.enabled])>0
             checked="checked"
             disabled="disabled"
        #end if 
             name="" value="" />
      <div>
        <strong>$plugin</strong><br />
        <i>$plugins.get($plugin).get('description')</i><br />
      </div>
    </dt>
    <dd class="close">
      #for $p in $plugins.get($plugin).get('plugins')
      <input type="hidden" name="plugin" value="$p.classname" />
      <input class="check" type="checkbox"
        #if $p.required
             disabled="disabled"
             readonly="readonly" 
        #end if 
        #if $p.enabled
             checked="checked" 
        #end if 
             name="enabled" value="$p.classname" />
      <strong>$p.classname</strong><br />
      <i>$p.description </i><br />
      #end for
    </dd>
    #end for
  </dl>
  <input type="submit" name="update" value="Set Plugins" />
  <input type="submit" name="reload" value="Refresh Plugin List" />
</form>

<script type="text/javascript" src="/yui/assets/accordion.js"></script>
